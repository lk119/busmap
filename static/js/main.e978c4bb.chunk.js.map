{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["mapboxgl","workerClass","require","default","Object","assign","DATA_URL","MAP_STYLE","OPTIONS","OPTION_CHECK_ROUTES_DECILE","OPTION_CHECK_ROUTES_TIME","OPTION_CHECK_STOPS","OPTION_CHECK_SIMD_OUTLINE","OPTION_CHECK_SIMD_FILL","COLOR_SCALE_DECILE","scaleThreshold","domain","range","COLOR_SCALE_TIME_DIFFERENCE_LONG","COLOR_SCALE_TIME_DIFFERENCE_SHORT","COLOR_SCALE_TIME_DIFFERENCE_BOTH","COLOR_SCALE_TIME_DIFFERENCE_SMALL_SCALE","COLOR_SCALE_TIME_TOTAL","INITIAL_VIEW_STATE","longitude","latitude","zoom","pitch","bearing","maxZoom","AmbientLight","color","intensity","getTooltip","object","html","properties","decile","Math","floor","difference","toFixed","App","simd","bus","routes","grid","roads","busstops","mapStyle","useState","setViewState","selectedMonth","setSelectedMonth","routes_decile","setRoutes_decile","routes_time","setRoutes_time","stopsChecked","setStopsChecked","simd_outline","setSimd_outline","simd_fill","setSimd_fill","layerVisibility","dec19_decile","mar20_decile","dec19_time","mar20_time","stops","longer_decile","shorter_decile","longer_time","shorter_time","all_decile","all_time","similar","simd_only","forEach","key","layers","PolygonLayer","id","data","filled","extruded","getPolygon","d","polygon","getFillColor","getLineColor","getLineWidth","opacity","visible","GeoJsonLayer","pickable","stroked","lineWidthScale","lineWidthMinPixels","f","pointType","getPointRadius","wireframe","getRadius","radiusMinPixels","radiusScale","getElevation","elevationScale","average_december","simd_decile","average_march","initialViewState","controller","onViewStateChange","nextViewState","viewState","mapboxApiAccessToken","class","name","type","value","checked","onChange","e","target","defaultChecked","src","process","alt","style","height","width","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sTA8BAA,IAASC,YAAcC,EAAQ,KAAqDC,QAIhFC,OADFC,O,IAIIC,EACE,0EADFA,EAEC,yEAFDA,EAGI,4EAHJA,EAIE,qEAJFA,EAMM,0EAKNC,EAAY,kCAEZC,EAAU,CAAC,eAAgB,eAAgB,aAAc,aAAc,gBAAgB,iBAAiB,cAAc,eAAgB,WAAY,aAAa,aAE/JC,EAA6B,CAAC,iBAE9BC,EAA2B,CAAC,eAE5BC,EAAqB,CAAC,SAEtBC,EAA4B,CAAC,gBAE7BC,EAAyB,CAAC,aAGnBC,EAAqBC,cAC/BC,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KACnCC,MAAM,CACL,CAAC,IAAI,IAAI,GACT,CAAC,IAAI,IAAI,GACT,CAAC,IAAI,IAAI,GACT,CAAC,IAAI,IAAI,IACT,CAAC,IAAI,IAAI,IACT,CAAC,IAAI,GAAG,IACR,CAAC,IAAI,GAAG,IACR,CAAC,IAAI,GAAG,KACR,CAAC,IAAI,GAAG,KACR,CAAC,IAAI,GAAG,OAkBKC,GAdiBH,cAC7BC,OAAO,EAAE,KAAM,KAAK,GAAG,EAAE,GAAG,IAAI,IAAI,OACpCC,MAAM,CACL,CAAC,GAAG,IAAI,KACR,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,GAAG,KACN,CAAC,IAAI,GAAG,OAIsCF,cAC7CC,OAAO,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,OAC/BC,MAAM,CACL,CAAC,EAAE,IAAI,KACP,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,GAAG,KACP,CAAC,GAAG,GAAG,KACP,CAAC,GAAG,GAAG,KACP,CAAC,IAAI,GAAG,QAIKE,EAAoCJ,cAC9CC,OAAO,EAAE,MAAM,KAAK,KAAK,KAAK,IAAI,IAAI,GAAG,IACzCC,MAAM,CACL,CAAC,GAAG,IAAI,KACR,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,OAGIG,EAAmCL,cAC7CC,OAAO,EAAE,MAAM,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,OACrEC,MAAM,CACL,CAAC,GAAG,IAAI,KACR,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,GAAG,KACP,CAAC,GAAG,GAAG,KACP,CAAC,GAAG,GAAG,KACP,CAAC,IAAI,GAAG,OAGGI,EAA0CN,cACpDC,OAAO,EAAE,MAAM,GAAG,GAAG,OACrBC,MAAM,CACL,CAAC,GAAG,IAAI,KACR,CAAC,EAAE,IAAI,KACP,CAAC,GAAG,IAAI,KACR,CAAC,IAAI,GAAG,OAGPK,EAAyBP,cACnCC,OAAQ,CAAC,EAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,OACnCC,MAAM,CACL,CAAC,GAAG,IAAI,KACR,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,EAAE,IAAI,KACP,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,IAAI,KACR,CAAC,GAAG,GAAG,KACP,CAAC,IAAI,GAAG,OAIVM,EAAqB,CACzBC,WAAY,OACZC,SAAU,QACVC,KAAM,GACNC,MAAO,GACPC,QAAS,EACTC,QAAS,IAIU,IAAIC,IAAa,CACpCC,MAAO,CAAC,IAAK,IAAK,KAClBC,UAAW,IAeb,SAASC,EAAT,GAEI,IADFC,EACC,EADDA,OAEA,OACEA,GAAU,CACRC,KAAK,iDAAD,OAEDD,EAAOE,WAAWC,OAFjB,2GAIAC,KAAKC,MAAML,EAAOE,WAAWI,YAAY,IAAIC,QAAQ,GAJrD,yBAcK,SAASC,EAAT,GAQX,IAAD,IAPDC,YAOC,MAPMrC,EAON,MANDsC,WAMC,MANKtC,EAML,MALDuC,cAKC,MALQvC,EAKR,MAJDwC,YAIC,MAJMxC,EAIN,OAHDyC,MAGC,EAFDC,iBAEC,MAFU1C,EAEV,OADD2C,SAIkCC,mBAAS3B,IAH1C,mBAGiB4B,GAHjB,aAIyCD,mBAAS,IAJlD,mBAIME,EAJN,KAIqBC,EAJrB,OAKyCH,oBAAS,GALlD,mBAKMI,EALN,KAKqBC,EALrB,OAMqCL,oBAAS,GAN9C,mBAMMM,EANN,KAMmBC,EANnB,OAOuCP,oBAAS,GAPhD,oBAOMQ,GAPN,MAOoBC,GAPpB,SAQuCT,oBAAS,GARhD,qBAQMU,GARN,MAQoBC,GARpB,SASiCX,oBAAS,GAT1C,qBASMY,GATN,MASiBC,GATjB,MAYGC,GAAkB,CACpBC,aAAc,GACdC,aAAc,GACdC,WAAY,GACZC,WAAY,GACZd,cAAe,GACfE,YAAa,GACba,MAAO,GACPC,cAAe,GACfC,eAAgB,GAChBC,YAAa,GACbC,aAAc,GACdC,WAAY,GACZC,SAAU,GACVC,QAAS,GACTC,UAAW,GACXjB,aAAc,GACdE,UAAW,IAKbtD,EAAQsE,SAAQ,SAAAC,GACV3B,IAAkB2B,IACpBf,GAAgBe,IAAO,MAI3BtE,EAA2BqE,SAAQ,SAAAC,IACX,IAAlBzB,IACFU,GAAgBe,IAAO,MAI3BrE,EAAyBoE,SAAQ,SAAAC,IACX,IAAhBvB,IACFQ,GAAgBe,IAAO,MAI3BpE,EAAmBmE,SAAQ,SAAAC,IACJ,IAAjBrB,KACFM,GAAgBe,IAAO,MAKzBnE,EAA0BkE,SAAQ,SAAAC,IACX,IAAjBnB,KACFI,GAAgBe,IAAO,MAI3BlE,EAAuBiE,SAAQ,SAAAC,IACX,IAAdjB,KACFE,GAAgBe,IAAO,MAK7B,IAAMC,GAAS,CAEb,IAAIC,IAAa,CACfC,GAAI,kBACJC,KAAMxC,EACNyC,QAAQ,EACRC,UAAU,EACVC,WAAY,SAAAC,GAAC,OAAIA,EAAEC,SACnBC,aAAc,SAAAF,GAAC,OAAIzE,EAAmByE,EAAElD,SACxCqD,aAAc,SAAAH,GAAC,OAAIzE,EAAmByE,EAAElD,SACxCsD,aAAc,EACdC,QAAS,IACTC,QAAS7B,GAAgBF,YAG3B,IAAImB,IAAa,CACfC,GAAI,oBACJC,KAAMxC,EACNyC,QAAQ,EACRC,UAAU,EACVC,WAAY,SAAAC,GAAC,OAAIA,EAAEC,SACnBE,aAAc,SAAAH,GAAC,OAAIzE,EAAmByE,EAAElD,SACxCsD,aAAc,GACdC,QAAS,EACTC,QAAS7B,GAAgBJ,eAGvB,IAAIkC,IAAa,CACfZ,GAAI,cACJC,KAAMtC,EACNkD,UAAU,EACVC,SAAS,EACTZ,QAAQ,EACRa,eAAgB,GAChBC,mBAAoB,EACpBT,aAAc,SAAAU,GAAC,OAAI9E,EAAwC8E,EAAE/D,WAAWI,aACxEkD,aAAc,SAAAS,GAAC,OAAI9E,EAAwC8E,EAAE/D,WAAWI,aACxEmD,aAAc,EACdE,QAAS7B,GAAgBR,cAG3B,IAAIsC,IAAa,CACfZ,GAAI,gBACJC,KAAMtC,EACNkD,UAAU,EACVC,SAAS,EACTZ,QAAQ,EACRgB,UAAW,SACXH,eAAgB,GAChBC,mBAAoB,EACpBT,aAAc,SAAAU,GAAC,OAAIrF,EAAmBqF,EAAE/D,WAAWC,SACnDqD,aAAc,SAAAS,GAAC,OAAIrF,EAAmBqF,EAAE/D,WAAWC,SACnDgE,eAAgB,IAChBV,aAAc,EACdE,QAAS7B,GAAgBV,gBAG3B,IAAIwC,IAAa,CACfZ,GAAI,QACJC,KAAMnC,EACN4C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXb,aAAc,CAAC,GAAG,IAAI,IAAI,KAC1BC,aAAc,CAAC,GAAG,IAAI,IAAI,KAC1Ba,UAAW,GACXC,gBAAiB,GACjBC,YAAa,GACbZ,QAAS7B,GAAgBK,QAG/B,IAAIyB,IAAa,CACfZ,GAAI,gBACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAK,GAC3FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAK1B,EAAmBqF,EAAE/D,WAAWC,QAAS,CAAC,IAAI,IAAI,IAAI,IACzGqD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAC/EuD,UAAU,EACVF,QAAS7B,GAAgBM,gBAK3B,IAAIwB,IAAa,CACfZ,GAAI,iBACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAI,GAAI,GAC/FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAK1B,EAAmBqF,EAAE/D,WAAWC,QAAS,CAAC,IAAI,IAAI,IAAI,IAC1GqD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAChFuD,UAAU,EACVF,QAAS7B,GAAgBO,iBAI3B,IAAIuB,IAAa,CACfZ,GAAI,cACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAK,GAC3FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAKtB,EAAiCiF,EAAE/D,WAAWI,YAAa,CAAC,IAAI,IAAI,IAAI,IAC3HkD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAC/EuD,UAAU,EACVF,QAAS7B,GAAgBQ,cAG3B,IAAIsB,IAAa,CACfZ,GAAI,eACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAI,GAAI,GAC/FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAKrB,EAAkCgF,EAAE/D,WAAWI,YAAa,CAAC,IAAI,IAAI,IAAI,IAC7HkD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAChFuD,UAAU,EACVF,QAAS7B,GAAgBS,eAG3B,IAAIqB,IAAa,CACfZ,GAAI,cACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAK,GAC3FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAK1B,EAAmBqF,EAAE/D,WAAWC,QAAS,CAAC,IAAI,IAAI,IAAI,IACzGqD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAC/EuD,UAAU,EACVF,QAAS7B,GAAgBU,aAG3B,IAAIoB,IAAa,CACfZ,GAAI,cACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAI,GAAI,GAC/FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAK1B,EAAmBqF,EAAE/D,WAAWC,QAAS,CAAC,IAAI,IAAI,IAAI,IAC1GqD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAChFuD,UAAU,EACVF,QAAS7B,GAAgBU,aAG3B,IAAIoB,IAAa,CACfZ,GAAI,YACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAK,GAC3FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAKpB,EAAiC+E,EAAE/D,WAAWI,YAAa,CAAC,IAAI,IAAI,IAAI,IAC3HkD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,WAAa,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAC/EuD,UAAU,EACVF,QAAS7B,GAAgBW,WAG3B,IAAImB,IAAa,CACfZ,GAAI,YACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAKF,KAAKC,MAAM4D,EAAE/D,WAAWI,WAAW,IAAI,GAAI,GAC/FmE,eAAgB,IAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAKpB,EAAiC+E,EAAE/D,WAAWI,YAAa,CAAC,IAAI,IAAI,IAAI,IAC5HkD,aAAc,SAAAS,GAAC,OAAKA,EAAE/D,WAAWI,YAAc,GAAK,CAAC,IAAI,IAAI,KAAM,CAAC,IAAI,IAAI,IAAI,MAChFuD,UAAU,EACVF,QAAS7B,GAAgBW,WAK3B,IAAImB,IAAa,CACfZ,GAAI,eACJC,KAAMvC,EACNgD,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAI7D,KAAKC,MAAM4D,EAAE/D,WAAWwE,iBAAiB,KAC5DD,eAAgB,GAChBlB,aAAc,SAAAU,GAAC,OAAIrF,EAAmBqF,EAAE/D,WAAWyE,cACnDnB,aAAc,CAAC,IAAI,IAAI,KACvBK,UAAU,EACVF,QAAS7B,GAAgBC,eAG3B,IAAI6B,IAAa,CACfZ,GAAI,uBACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACVqB,aAAc,IACdjB,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BC,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BK,UAAU,EACVF,QAAS7B,GAAgBC,eAI3B,IAAI6B,IAAa,CACfZ,GAAI,eACJC,KAAMvC,EACNgD,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAI7D,KAAKC,MAAM4D,EAAE/D,WAAW0E,cAAc,KACzDH,eAAgB,GAChBlB,aAAc,SAAAU,GAAC,OAAIrF,EAAmBqF,EAAE/D,WAAWyE,cACnDnB,aAAc,CAAC,KAAK,IAAI,KACxBK,UAAU,EACVF,QAAS7B,GAAgBE,eAG3B,IAAI4B,IAAa,CACfZ,GAAI,uBACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACVqB,aAAc,IACdjB,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BC,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BK,UAAU,EACVF,QAAS7B,GAAgBE,eAG3B,IAAI4B,IAAa,CACfZ,GAAI,aACJC,KAAMvC,EACNgD,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAI7D,KAAKC,MAAM4D,EAAE/D,WAAWwE,iBAAiB,KAC5DD,eAAgB,GAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAWwE,iBAAmB,EAAItF,EAAuB6E,EAAE/D,WAAWwE,kBAAmB,CAAC,IAAI,IAAI,IAAI,IAC5HlB,aAAc,CAAC,IAAI,IAAI,KACvBK,UAAU,EACVF,QAAS7B,GAAgBG,aAG3B,IAAI2B,IAAa,CACfZ,GAAI,qBACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACVqB,aAAc,IACdjB,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BC,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BK,UAAU,EACVF,QAAS7B,GAAgBG,aAI3B,IAAI2B,IAAa,CACfZ,GAAI,aACJC,KAAMvC,EACNgD,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACViB,WAAW,EACXI,aAAc,SAAAP,GAAC,OAAI7D,KAAKC,MAAM4D,EAAE/D,WAAW0E,cAAc,KACzDH,eAAgB,GAChBlB,aAAc,SAAAU,GAAC,OAAKA,EAAE/D,WAAW0E,cAAgB,EAAIxF,EAAuB6E,EAAE/D,WAAW0E,eAAgB,CAAC,IAAI,IAAI,IAAI,IACtHpB,aAAc,CAAC,IAAI,IAAI,KACvBK,UAAU,EACVF,QAAS7B,GAAgBI,aAG3B,IAAI0B,IAAa,CACfZ,GAAI,qBACJC,KAAMrC,EACN8C,QAAS,EACTI,SAAS,EACTZ,QAAQ,EACRC,UAAU,EACVqB,aAAc,IACdjB,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BC,aAAc,CAAC,IAAI,IAAI,IAAI,GAC3BK,UAAU,EACVF,QAAS7B,GAAgBI,cAK7B,OAAS,qCAEP,eACA,IADA,CACOY,OACLA,GAEF+B,iBACExF,EAEFyF,YACE,EAEF/E,WACEA,EAGFgF,kBACE,SAACC,GACC/D,EAAa+D,EAAcC,YAhB/B,UAmBA,cACA,IADA,CACUC,qBAplBc,2FAulBxBnE,SACE1C,IAxBF,OA4BA,sBAAK2E,GAAG,gBAAR,UACC,gCACC,6BAAI,uDACJ,uHAED,8BACC,8BAAG,uCAAH,gDAED,sBAAKmC,MAAM,SAAX,UACC,wCACA,qBAAKA,MAAM,UAAX,SACC,sBAAKA,MAAM,iBAAX,UACC,wDACA,uBAAOnC,GAAG,eAAeoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,GAAIC,QAA0B,KAAhBrE,EAAqBsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAF5I,SAID,sBAAKH,MAAM,iBAAX,UACC,8CAEE,uBAAOnC,GAAG,YAAYoC,KAAK,YAAYC,KAAK,WAAWM,eAAiB/D,GAAW4D,SAAU,SAACC,GAAM5D,IAAcD,OAHrH,OAIA,sBAAKuD,MAAM,iBAAX,UACC,iDAEE,uBAAOnC,GAAG,eAAeoC,KAAK,eAAeC,KAAK,WAAWM,eAAiBjE,GAAc8D,SAAU,SAACC,GAAM9D,IAAiBD,OAHjI,OAIA,sBAAKyD,MAAM,iBAAX,UACC,+CAEE,uBAAOnC,GAAG,QAAQoC,KAAK,QAAQC,KAAK,WAAWM,eAAiBnE,GAAcgE,SAAU,SAACC,GAAMhE,IAAiBD,OAHnH,OAIA,sBAAK2D,MAAM,iBAAX,UACC,sDAEE,uBAAOnC,GAAG,gBAAgBoC,KAAK,gBAAgBC,KAAK,WAAWM,eAAiBvE,EAAeoE,SAAU,SAACC,GAAMpE,GAAkBD,MAHrI,OAIA,sBAAK+D,MAAM,iBAAX,UACC,oDAEE,uBAAOnC,GAAG,cAAcoC,KAAK,cAAcC,KAAK,WAAWM,eAAiBrE,EAAakE,SAAU,SAACC,GAAMlE,GAAgBD,MAH7H,OAIA,4CACA,uGACA,sBAAK6D,MAAM,aAAX,UACC,gDACA,sBAAKA,MAAM,SAAX,UACC,mDAEE,uBAAOnC,GAAG,eAAeoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,eAAgBC,QAA0B,iBAAhBrE,EAAiCsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHtK,OAIA,sBAAKH,MAAM,SAAX,UACC,4CAEE,uBAAOnC,GAAG,aAAaoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,aAAcC,QAA0B,eAAhBrE,EAA+BsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHhK,UAKD,sBAAKH,MAAM,aAAX,UACC,6CACA,sBAAKA,MAAM,SAAX,UACC,mDAEE,uBAAOnC,GAAG,eAAeoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,eAAgBC,QAA0B,iBAAhBrE,EAAiCsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHtK,OAIA,sBAAKH,MAAM,SAAX,UACC,4CAEE,uBAAOnC,GAAG,aAAaoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,aAAcC,QAA0B,eAAhBrE,EAA+BsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHhK,UAKD,sBAAKH,MAAM,kBAAX,UACC,iDACA,6IACA,iFACA,sBAAKA,MAAM,SAAX,UACC,mDAEE,uBAAOnC,GAAG,OAAOoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,aAAcC,QAA0B,eAAhBrE,EAA+BsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAH1J,OAIA,sBAAKH,MAAM,SAAX,UACC,4CAEE,uBAAOnC,GAAG,OAAOoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,WAAYC,QAA0B,aAAhBrE,EAA6BsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHtJ,OAIA,sBAAKH,MAAM,aAAX,UACC,mDACA,sBAAKA,MAAM,SAAX,UACC,mDAEE,uBAAOnC,GAAG,OAAOoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,iBAAkBC,QAA0B,mBAAhBrE,EAAmCsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHlK,OAIA,sBAAKH,MAAM,SAAX,UACC,4CAEE,uBAAOnC,GAAG,OAAOoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,eAAgBC,QAA0B,iBAAhBrE,EAAiCsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAH9J,UAKD,sBAAKH,MAAM,aAAX,UACC,kDACA,sBAAKA,MAAM,SAAX,UACC,mDAEE,uBAAOnC,GAAG,OAAOoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,gBAAiBC,QAA0B,kBAAhBrE,EAAkCsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAHhK,OAIA,sBAAKH,MAAM,SAAX,UACC,4CAEE,uBAAOnC,GAAG,OAAOoC,KAAK,QAAQC,KAAK,QAAQC,MAAQ,cAAeC,QAA0B,gBAAhBrE,EAAgCsE,SAAW,SAACC,GAAOtE,EAAiBsE,EAAEC,OAAOJ,UAH5J,gBAOH,sBAAKtC,GAAG,mBAAR,UACC,+CADD,IACwB,qBAAK4C,IAAKC,qBAAwCC,IAAI,oBAAoBC,MAAO,CAACC,OAAQ,OAAQC,MAAO,SAChI,yJACA,kDAHD,IAG2B,qBAAKL,IAAKC,0BAA6CC,IAAI,+BAA+BC,MAAO,CAACC,OAAQ,OAAQC,MAAO,YAEpJ,sBAAKd,MAAM,aAAX,UACC,sBAAKA,MAAM,cAAX,UACC,2DACA,uFACA,oFAED,qDAND,IAM8B,mBAAGe,KAAK,kCAAR,iDAC7B,sDAPD,IAO+B,mBAAGA,KAAK,oHAAR,qCAP/B,aC9uBL,IAYeC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACtG,EAAD,MAEFuG,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.e978c4bb.chunk.js","sourcesContent":["import React, {\n  useState\n} from 'react';\nimport {\n  render\n} from 'react-dom';\n\nimport DeckGL from '@deck.gl/react';\nimport {\n  GeoJsonLayer,\n  PolygonLayer,\n  TextLayer\n} from '@deck.gl/layers';\nimport {TripsLayer} from '@deck.gl/geo-layers';\nimport {\n  LightingEffect,\n  AmbientLight,\n  _SunLight as SunLight\n} from '@deck.gl/core';\nimport {\n  scaleThreshold\n} from 'd3-scale';\nimport {\n  DataFilterExtension\n} from '@deck.gl/extensions';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapboxgl from 'mapbox-gl';\nimport {StaticMap} from 'react-map-gl';\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nconst {\n  assign\n} = Object;\n\n// Source data\nconst DATA_URL = {\n  SIMD: 'https://raw.githubusercontent.com/lk119/busmap/main/data/simd_test.json',\n  BUS: 'https://raw.githubusercontent.com/lk119/busmap/main/data/bus_data.json',\n  ROUTES: 'https://raw.githubusercontent.com/lk119/busmap/main/data/routes_data.json',\n  GRID: 'https://raw.githubusercontent.com/lk119/busmap/main/data/grid.json',\n  ROADS: 'https://raw.githubusercontent.com/lk119/busmap/main/data/roads.json',\n  BUSSTOPS: 'https://raw.githubusercontent.com/lk119/busmap/main/data/bus_stops.json'\n};\n\nconst MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiYmluemllIiwiYSI6ImNrcDcwbmI1dzB3MnoycHF0eXQ0czQ0MTMifQ.FNw2f1X8Olzz1NuTGNMaiw';\n\nconst MAP_STYLE = 'mapbox://styles/mapbox/dark-v10';\n\nconst OPTIONS = ['dec19_decile', 'mar20_decile', 'dec19_time', 'mar20_time', 'longer_decile','shorter_decile','longer_time','shorter_time', 'all_time', 'all_decile','simd_only'];\n\nconst OPTION_CHECK_ROUTES_DECILE = ['routes_decile'];\n\nconst OPTION_CHECK_ROUTES_TIME = ['routes_time'];\n\nconst OPTION_CHECK_STOPS = ['stops'];\n\nconst OPTION_CHECK_SIMD_OUTLINE = ['simd_outline'];\n\nconst OPTION_CHECK_SIMD_FILL = ['simd_fill'];\n\n\nexport const COLOR_SCALE_DECILE = scaleThreshold()\n  .domain([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])\n  .range([\n    [255,201,4],\n    [255,224,0],\n    [255,166,0],\n    [255,142,31],\n    [255,117,51],\n    [255,93,68],\n    [252,68,85],\n    [239,45,100],\n    [221,24,115],\n    [199,14,128]\n\n  ]);\n\n  export const COLOR_SCALE_TIME = scaleThreshold()\n    .domain([-1000,-300,-30,0,30,300,600,1500])\n    .range([\n      [49,209,212],\n      [0,193,221],\n      [0,176,232],\n      [0,157,242],\n      [0,136,246],\n      [0,112,241],\n      [0,81,225],\n      [100,33,196]\n    ]);\n\n\n    export const COLOR_SCALE_TIME_DIFFERENCE_LONG = scaleThreshold()\n      .domain([0,30,60,90,120,180,300,1550])\n      .range([\n        [0,136,246],\n        [14,125,242],\n        [33,113,238],\n        [49,101,232],\n        [64,87,225],\n        [77,73,216],\n        [89,56,207],\n        [100,33,196]\n      ]);\n\n\n        export const COLOR_SCALE_TIME_DIFFERENCE_SHORT = scaleThreshold()\n          .domain([-1500,-300,-180,-120,-90,-60,-30,0])\n          .range([\n            [17,214,209],\n            [0,206,219],\n            [0,197,230],\n            [0,187,239],\n            [0,176,247],\n            [0,164,251],\n            [0,151,251],\n            [0,136,246],\n          ]);\n\n          export const COLOR_SCALE_TIME_DIFFERENCE_BOTH = scaleThreshold()\n            .domain([-1500,-300,-180,-120,-90,-60,-30,-10,10,30,60,90,120,180,300,1550])\n            .range([\n              [17,214,209],\n              [0,206,219],\n              [0,197,230],\n              [0,187,239],\n              [0,176,247],\n              [0,164,251],\n              [0,151,251],\n              [0,136,246],\n              [0,136,246],\n              [14,125,242],\n              [33,113,238],\n              [49,101,232],\n              [64,87,225],\n              [77,73,216],\n              [89,56,207],\n              [100,33,196]\n            ]);\n\n            export const COLOR_SCALE_TIME_DIFFERENCE_SMALL_SCALE = scaleThreshold()\n              .domain([-1500,-10,10,1550])\n              .range([\n                [17,214,209],\n                [0,176,247],\n                [49,101,232],\n                [100,33,196]\n              ]);\n\n    export const COLOR_SCALE_TIME_TOTAL = scaleThreshold()\n      .domain ([0,100,200,300,400,500,800,1600])\n      .range([\n        [17,214,209],\n        [0,197,230],\n        [0,176,247],\n        [0,151,251],\n        [14,125,242],\n        [49,101,232],\n        [77,73,216],\n        [100,33,196]\n      ]);\n\n\nconst INITIAL_VIEW_STATE = {\n  longitude: -3.1883,\n  latitude: 55.9533,\n  zoom: 11,\n  pitch: 45,\n  bearing: 0,\n  maxZoom: 16,\n};\n\n\nconst ambientLight = new AmbientLight({\n  color: [255, 255, 255],\n  intensity: 1.0\n});\n\n\nconst landCover = [\n  [\n    [-123.0, 49.196],\n    [-123.0, 49.324],\n    [-123.306, 49.324],\n    [-123.306, 49.196]\n  ]\n];\n\n\n\nfunction getTooltip({\n  object\n}) {\n  return (\n    object && {\n      html: `\\\n  <div><b>Edinburgh Bus Map</b></div>\n  <div>${object.properties.decile} / SIMD decile</div>\n  <div><b>Minutes difference between Dec 19 and Mar 20</b></div>\n  <div>${(Math.floor(object.properties.difference)/60).toFixed(2)} minutes</div>\n\n  `\n    }\n  );\n}\n\n//<div>${object.properties.difference.toFixed(2)} minutes</div>\n//  <div>${(Math.floor(object.properties.average_march)/60).toFixed(2)} minutes</div>\n\nexport default function App({\n  simd = DATA_URL.SIMD,\n  bus = DATA_URL.BUS,\n  routes = DATA_URL.ROUTES,\n  grid = DATA_URL.GRID,\n  roads = DATA_URL.ROADS,\n  busstops = DATA_URL.BUSSTOPS,\n  mapStyle = MAP_STYLE\n}) {\n\n\n  const [viewState, setViewState] = useState(INITIAL_VIEW_STATE);\n  const [selectedMonth, setSelectedMonth] = useState(\"\");\n  const [routes_decile, setRoutes_decile] = useState(false);\n  const [routes_time, setRoutes_time] = useState(false);\n  const [stopsChecked, setStopsChecked] = useState(false);\n  const [simd_outline, setSimd_outline] = useState(false);\n  const [simd_fill, setSimd_fill] = useState(false);\n\n\n  var layerVisibility = {\n    dec19_decile: \"\",\n    mar20_decile: \"\",\n    dec19_time: \"\",\n    mar20_time: \"\",\n    routes_decile: \"\",\n    routes_time: \"\",\n    stops: \"\",\n    longer_decile: \"\",\n    shorter_decile: \"\",\n    longer_time: \"\",\n    shorter_time: \"\",\n    all_decile: \"\",\n    all_time: \"\",\n    similar: \"\",\n    simd_only: \"\",\n    simd_outline: \"\",\n    simd_fill: \"\",\n  }\n\n\n\n  OPTIONS.forEach(key => {\n    if (selectedMonth === key) {\n      layerVisibility[key] = true;\n    }\n  })\n\n  OPTION_CHECK_ROUTES_DECILE.forEach(key => {\n    if (routes_decile === true) {\n      layerVisibility[key] = true;\n    }\n  })\n\n  OPTION_CHECK_ROUTES_TIME.forEach(key => {\n    if (routes_time === true) {\n      layerVisibility[key] = true;\n    }\n  })\n\n  OPTION_CHECK_STOPS.forEach(key => {\n    if (stopsChecked === true) {\n      layerVisibility[key] = true;\n    }\n  })\n\n\n    OPTION_CHECK_SIMD_OUTLINE.forEach(key => {\n      if (simd_outline === true) {\n        layerVisibility[key] = true;\n      }\n    })\n\n    OPTION_CHECK_SIMD_FILL.forEach(key => {\n      if (simd_fill === true) {\n        layerVisibility[key] = true;\n      }\n    })\n\n\n  const layers = [\n\n    new PolygonLayer({\n      id: 'simd_fill_faded',\n      data: simd,\n      filled: true,\n      extruded: false,\n      getPolygon: d => d.polygon,\n      getFillColor: d => COLOR_SCALE_DECILE(d.decile),\n      getLineColor: d => COLOR_SCALE_DECILE(d.decile),\n      getLineWidth: 5,\n      opacity: 0.01,\n      visible: layerVisibility.simd_fill\n    }),\n\n    new PolygonLayer({\n      id: 'simd_outline_thin',\n      data: simd,\n      filled: false,\n      extruded: false,\n      getPolygon: d => d.polygon,\n      getLineColor: d => COLOR_SCALE_DECILE(d.decile),\n      getLineWidth: 10,\n      opacity: 1,\n      visible: layerVisibility.simd_outline\n    }),\n\n        new GeoJsonLayer({\n          id: 'routes-time',\n          data: routes,\n          pickable: true,\n          stroked: false,\n          filled: true,\n          lineWidthScale: 20,\n          lineWidthMinPixels: 2,\n          getFillColor: f => COLOR_SCALE_TIME_DIFFERENCE_SMALL_SCALE(f.properties.difference),\n          getLineColor: f => COLOR_SCALE_TIME_DIFFERENCE_SMALL_SCALE(f.properties.difference),\n          getLineWidth: 1,\n          visible: layerVisibility.routes_time\n        }),\n\n        new GeoJsonLayer({\n          id: 'routes-decile',\n          data: routes,\n          pickable: true,\n          stroked: false,\n          filled: true,\n          pointType: 'circle',\n          lineWidthScale: 20,\n          lineWidthMinPixels: 2,\n          getFillColor: f => COLOR_SCALE_DECILE(f.properties.decile),\n          getLineColor: f => COLOR_SCALE_DECILE(f.properties.decile),\n          getPointRadius: 100,\n          getLineWidth: 1,\n          visible: layerVisibility.routes_decile\n        }),\n\n        new GeoJsonLayer({\n          id: 'stops',\n          data: busstops,\n          opacity: 1,\n          stroked: false,\n          filled: true,\n          extruded: true,\n          wireframe: true,\n          getFillColor: [47,241,245,200],\n          getLineColor: [47,241,245,200],\n          getRadius: 10,\n          radiusMinPixels: 10,\n          radiusScale: 10,\n          visible: layerVisibility.stops\n        }),\n\n    new GeoJsonLayer({\n      id: 'longer_decile',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference > 10 ? Math.floor(f.properties.difference/60): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference > 10 ? COLOR_SCALE_DECILE(f.properties.decile): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference > 10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.longer_decile\n    }),\n\n\n\n    new GeoJsonLayer({\n      id: 'shorter_decile',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference < -10 ? Math.floor(f.properties.difference/60*-1): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference < -10 ? COLOR_SCALE_DECILE(f.properties.decile): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference < -10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.shorter_decile\n\n      }),\n\n    new GeoJsonLayer({\n      id: 'longer_time',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference > 10 ? Math.floor(f.properties.difference/60): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference > 10 ? COLOR_SCALE_TIME_DIFFERENCE_LONG(f.properties.difference): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference > 10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.longer_time\n    }),\n\n    new GeoJsonLayer({\n      id: 'shorter_time',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference < -10 ? Math.floor(f.properties.difference/60*-1): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference < -10 ? COLOR_SCALE_TIME_DIFFERENCE_SHORT(f.properties.difference): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference < -10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.shorter_time\n    }),\n\n    new GeoJsonLayer({\n      id: 'all_decile1',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference > 10 ? Math.floor(f.properties.difference/60): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference > 10 ? COLOR_SCALE_DECILE(f.properties.decile): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference > 10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.all_decile\n    }),\n\n    new GeoJsonLayer({\n      id: 'all_decile2',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference < -10 ? Math.floor(f.properties.difference/60*-1): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference < -10 ? COLOR_SCALE_DECILE(f.properties.decile): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference < -10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.all_decile\n    }),\n\n    new GeoJsonLayer({\n      id: 'all_time1',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference > 10 ? Math.floor(f.properties.difference/60): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference > 10 ? COLOR_SCALE_TIME_DIFFERENCE_BOTH(f.properties.difference): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference > 10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.all_time\n    }),\n\n    new GeoJsonLayer({\n      id: 'all_time2',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => (f.properties.difference < -10 ? Math.floor(f.properties.difference/60*-1): 0),\n      elevationScale: 200,\n      getFillColor: f => (f.properties.difference < -10 ? COLOR_SCALE_TIME_DIFFERENCE_BOTH(f.properties.difference): [255,255,255,1]),\n      getLineColor: f => (f.properties.difference < -10 ? [220,220,220]: [169,169,169,100]),\n      pickable: true,\n      visible: layerVisibility.all_time\n    }),\n\n\n\n    new GeoJsonLayer({\n      id: 'dec19_decile',\n      data: bus,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => Math.floor(f.properties.average_december/60),\n      elevationScale: 40,\n      getFillColor: f => COLOR_SCALE_DECILE(f.properties.simd_decile),\n      getLineColor: [220,220,220],\n      pickable: true,\n      visible: layerVisibility.dec19_decile\n    }),\n\n    new GeoJsonLayer({\n      id: 'invisible_dec_decile',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      getElevation: 2000,\n      getFillColor: [255,255,255,0],\n      getLineColor: [255,255,255,0],\n      pickable: true,\n      visible: layerVisibility.dec19_decile\n    }),\n\n\n    new GeoJsonLayer({\n      id: 'mar20_decile',\n      data: bus,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => Math.floor(f.properties.average_march/60),\n      elevationScale: 40,\n      getFillColor: f => COLOR_SCALE_DECILE(f.properties.simd_decile),\n      getLineColor: [2220,220,220],\n      pickable: true,\n      visible: layerVisibility.mar20_decile\n    }),\n\n    new GeoJsonLayer({\n      id: 'invisible_mar_decile',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      getElevation: 2000,\n      getFillColor: [255,255,255,0],\n      getLineColor: [255,255,255,0],\n      pickable: true,\n      visible: layerVisibility.mar20_decile\n    }),\n\n    new GeoJsonLayer({\n      id: 'dec19_time',\n      data: bus,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => Math.floor(f.properties.average_december/60),\n      elevationScale: 40,\n      getFillColor: f => (f.properties.average_december > 0 ? COLOR_SCALE_TIME_TOTAL(f.properties.average_december): [255,255,255,1]),\n      getLineColor: [220,220,220],\n      pickable: true,\n      visible: layerVisibility.dec19_time\n    }),\n\n    new GeoJsonLayer({\n      id: 'invisible_dec_time',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      getElevation: 2000,\n      getFillColor: [255,255,255,0],\n      getLineColor: [255,255,255,0],\n      pickable: true,\n      visible: layerVisibility.dec19_time\n    }),\n\n\n    new GeoJsonLayer({\n      id: 'mar20_time',\n      data: bus,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      wireframe: true,\n      getElevation: f => Math.floor(f.properties.average_march/60),\n      elevationScale: 40,\n      getFillColor: f => (f.properties.average_march > 0 ? COLOR_SCALE_TIME_TOTAL(f.properties.average_march): [255,255,255,1]),\n      getLineColor: [220,220,220],\n      pickable: true,\n      visible: layerVisibility.mar20_time\n    }),\n\n    new GeoJsonLayer({\n      id: 'invisible_mar_time',\n      data: grid,\n      opacity: 1,\n      stroked: false,\n      filled: true,\n      extruded: true,\n      getElevation: 2000,\n      getFillColor: [255,255,255,0],\n      getLineColor: [255,255,255,0],\n      pickable: true,\n      visible: layerVisibility.mar20_time\n    })\n\n];\n\n  return ( <\n    >\n    <\n    DeckGL layers = {\n      layers\n    }\n    initialViewState = {\n      INITIAL_VIEW_STATE\n    }\n    controller = {\n      true\n    }\n    getTooltip = {\n      getTooltip\n    }\n\n    onViewStateChange = {\n      (nextViewState) => {\n        setViewState(nextViewState.viewState);\n      }\n    } >\n    <\n    StaticMap mapboxApiAccessToken = {\n      MAPBOX_ACCESS_TOKEN\n    }\n    mapStyle = {\n      MAP_STYLE\n    }\n    /> < /\n    DeckGL >\n    <div id=\"control-panel\">\n    \t<div>\n    \t\t<h1><b>Edinburgh City Buses</b></h1>\n    \t\t<p>Comparing December 2019 and March 2020 Lothian bus journey times across SIMD zones.</p>\n    \t</div>\n    \t<div>\n    \t\t<p><b>HINT: </b> Hold down shift and click to rotate map</p>\n    \t</div>\n    \t<div class=\"layers\">\n    \t\t<h2>LAYERS</h2>\n    \t\t<div class=\"toggles\">\n    \t\t\t<div class=\"button-toggles\">\n    \t\t\t\t<label> Clear Grid Layers </label>\n    \t\t\t\t<input id=\"clear-layers\" name=\"month\" type=\"radio\" value={ \"\"} checked={ selectedMonth===\"\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t</div>\n    \t\t<div class=\"button-toggles\">\n    \t\t\t<label>SIMD Fill\n    \t\t\t\t< /label>\n    \t\t\t\t\t<input id=\"simd_fill\" name=\"simd_fill\" type=\"checkbox\" defaultChecked={ simd_fill} onChange={(e)=> {setSimd_fill(!simd_fill); }}/> </div>\n    \t\t<div class=\"button-toggles\">\n    \t\t\t<label>SIMD Outline\n    \t\t\t\t< /label>\n    \t\t\t\t\t<input id=\"simd_outline\" name=\"simd_outline\" type=\"checkbox\" defaultChecked={ simd_outline} onChange={(e)=> {setSimd_outline(!simd_outline); }}/> </div>\n    \t\t<div class=\"button-toggles\">\n    \t\t\t<label> Bus Stops\n    \t\t\t\t< /label>\n    \t\t\t\t\t<input id=\"stops\" name=\"stops\" type=\"checkbox\" defaultChecked={ stopsChecked} onChange={(e)=> {setStopsChecked(!stopsChecked); }}/> </div>\n    \t\t<div class=\"button-toggles\">\n    \t\t\t<label> Routes by Decile\n    \t\t\t\t< /label>\n    \t\t\t\t\t<input id=\"routes-decile\" name=\"routes-decile\" type=\"checkbox\" defaultChecked={ routes_decile} onChange={(e)=> {setRoutes_decile(!routes_decile); }}/> </div>\n    \t\t<div class=\"button-toggles\">\n    \t\t\t<label> Routes by Time\n    \t\t\t\t< /label>\n    \t\t\t\t\t<input id=\"routes-time\" name=\"routes-time\" type=\"checkbox\" defaultChecked={ routes_time} onChange={(e)=> {setRoutes_time(!routes_time); }}/> </div>\n    \t\t<h3>TOTAL TIME</h3>\n    \t\t<p>Height represents the sum of total minutes buses spent in a grid cell.</p>\n    \t\t<div class=\"container1\">\n    \t\t\t<h4>December 2019:</h4>\n    \t\t\t<div class=\"button\">\n    \t\t\t\t<label>By SIMD Decile\n    \t\t\t\t\t< /label>\n    \t\t\t\t\t\t<input id=\"dec19_decile\" name=\"month\" type=\"radio\" value={ \"dec19_decile\"} checked={ selectedMonth===\"dec19_decile\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t<div class=\"button\">\n    \t\t\t\t<label>By Time\n    \t\t\t\t\t< /label>\n    \t\t\t\t\t\t<input id=\"dec19_time\" name=\"month\" type=\"radio\" value={ \"dec19_time\"} checked={ selectedMonth===\"dec19_time\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t</div>\n    \t\t<div class=\"container2\">\n    \t\t\t<h4>March 2020:</h4>\n    \t\t\t<div class=\"button\">\n    \t\t\t\t<label>By SIMD Decile\n    \t\t\t\t\t< /label>\n    \t\t\t\t\t\t<input id=\"mar20_decile\" name=\"month\" type=\"radio\" value={ \"mar20_decile\"} checked={ selectedMonth===\"mar20_decile\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t<div class=\"button\">\n    \t\t\t\t<label>By Time\n    \t\t\t\t\t< /label>\n    \t\t\t\t\t\t<input id=\"mar20_time\" name=\"month\" type=\"radio\" value={ \"mar20_time\"} checked={ selectedMonth===\"mar20_time\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t</div>\n    \t\t<div class=\"difference-view\">\n    \t\t\t<h3>TIME DIFFERENCE</h3>\n    \t\t\t<p>Height represents the difference in minutes buses spent in a grid cell between December 2019 and March 2020.</p>\n    \t\t\t<h4>View all time differences (shorter and longer):</h4>\n    \t\t\t<div class=\"button\">\n    \t\t\t\t<label>By SIMD Decile\n    \t\t\t\t\t< /label>\n    \t\t\t\t\t\t<input id=\"grid\" name=\"month\" type=\"radio\" value={ \"all_decile\"} checked={ selectedMonth===\"all_decile\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t<div class=\"button\">\n    \t\t\t\t<label>By Time\n    \t\t\t\t\t< /label>\n    \t\t\t\t\t\t<input id=\"grid\" name=\"month\" type=\"radio\" value={ \"all_time\"} checked={ selectedMonth===\"all_time\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t<div class=\"container1\">\n    \t\t\t\t<h4>Shorter in March:</h4>\n    \t\t\t\t<div class=\"button\">\n    \t\t\t\t\t<label>By SIMD Decile\n    \t\t\t\t\t\t< /label>\n    \t\t\t\t\t\t\t<input id=\"grid\" name=\"month\" type=\"radio\" value={ \"shorter_decile\"} checked={ selectedMonth===\"shorter_decile\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t\t<div class=\"button\">\n    \t\t\t\t\t<label>By Time\n    \t\t\t\t\t\t< /label>\n    \t\t\t\t\t\t\t<input id=\"grid\" name=\"month\" type=\"radio\" value={ \"shorter_time\"} checked={ selectedMonth===\"shorter_time\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t</div>\n    \t\t\t<div class=\"container2\">\n    \t\t\t\t<h4>Longer in March:</h4>\n    \t\t\t\t<div class=\"button\">\n    \t\t\t\t\t<label>By SIMD Decile\n    \t\t\t\t\t\t< /label>\n    \t\t\t\t\t\t\t<input id=\"grid\" name=\"month\" type=\"radio\" value={ \"longer_decile\"} checked={ selectedMonth===\"longer_decile\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t\t<div class=\"button\">\n    \t\t\t\t\t<label>By Time\n    \t\t\t\t\t\t< /label>\n    \t\t\t\t\t\t\t<input id=\"grid\" name=\"month\" type=\"radio\" value={ \"longer_time\"} checked={ selectedMonth===\"longer_time\" } onChange={ (e)=> { setSelectedMonth(e.target.value); }}/> </div>\n    \t\t\t</div>\n    \t\t</div>\n    \t</div>\n    \t<div id=\"legend-container\">\n    \t\t<h3>SIMD Deciles:</h3> <img src={process.env.PUBLIC_URL + \"/legend.png\"} alt=\"SIMD colour scale\" style={{height: \"30px\", width: \"95%\"}}></img>\n    \t\t<p>Where 1 is the most deprived 10% of the Scottish population and 10 is the least deprived 10% of the Scottish population.</p>\n    \t\t<h3>Time Difference:</h3> <img src={process.env.PUBLIC_URL + \"/legend_time.png\"} alt=\"Time difference colour scale\" style={{height: \"30px\", width: \"95%\"}}></img>\n    \t</div>\n    \t<div class=\"data-links\">\n    \t\t<div class=\"date-ranges\">\n    \t\t\t<h6>Bus GPS data date ranges:</h6>\n    \t\t\t<p>10 December 2019 00:00:00 to 20 December 2019 23:59:59</p>\n    \t\t\t<p>10 March 2020 00:00:00 to 20 March 2020 23:59:59</p>\n    \t\t</div>\n    \t\t<h5> Bus Data Source:  </h5> <a href=\"https://tfe-opendata.readme.io/\">  Transport for Edinburgh Open Data</a>\n    \t\t<h5> SIMD Data Source:  </h5> <a href=\"https://www.spatialdata.gov.scot/geonetwork/srv/eng/catalog.search#/metadata/02866b0b-66e5-46ab-9b1c-d433dc3c2fae\">  Scottish Spatial Data</a> </div>\n    </div>\n    </>\n  );\n}\n\nexport function renderToDOM(container) {\n  render( < App / > , container);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}